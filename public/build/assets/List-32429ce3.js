import{k as g,o as n,f as r,i as x,l as y,b as e,F as d,j as w,m as v,B as k,a as m,u as C,w as _,s as u,n as $,t as i,C as L,p as j}from"./app-92f28c26.js";import{_ as z}from"./AuthenticatedLayout-a5a149c9.js";import{Z as B}from"./index.esm-4f1a13b9.js";import"./ApplicationLogo-306a323f.js";import"./_plugin-vue_export-helper-c27b6911.js";const M={class:"fixed inset-0 flex items-center justify-center z-50","aria-hidden":"true"},N=e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})],-1),S=[N],V=w('<header class="modal__header flex justify-between items-center px-4 py-2 bg-gray-100 rounded-t-lg mt-4"><h2 class="modal__title text-lg font-semibold text-gray-800"><span class="font-bold text-blue-700">ユーザー権限編集画面ヘルプ</span><br></h2></header><main class="modal__content p-4 text-gray-700"><p class="mb-4"><span class="font-bold text-blue-700">権限の選択:</span><br> 各ユーザーについて、権限を選択するためのラジオボタンと「保存」ボタンが表示されています。 ユーザーの権限は「admin」または「user」から選択できます。 </p><p class="mb-4"><span class="font-bold text-blue-700">保存ボタン:</span><br> ユーザーごとに表示される「保存」ボタンをクリックすると、選択された権限が保存されます。 保存前に変更確認のための確認ダイアログが表示されます。 </p></main>',2),U={__name:"UsersModal",setup(c){const l=g(!1),s=()=>{l.value=!l.value},t=a=>{a.target.classList.contains("modal__overlay")&&s()};return(a,o)=>(n(),r(d,null,[x(e("div",M,[e("div",{class:"modal fixed inset-0 flex items-center justify-center z-50"},[e("div",{onClick:t,class:"modal__overlay fixed inset-0 bg-opacity-50 bg-black"}),e("div",{class:"modal__container bg-white rounded-lg shadow-lg max-w-md mx-auto p-4 z-50 relative",role:"dialog","aria-modal":"true","aria-labelledby":"modal-1-title"},[e("button",{onClick:s,type:"button",class:"modal__close absolute top-4 right-4 focus:outline-none text-gray-500 hover:text-gray-700"},S),V,e("footer",{class:"modal__footer px-4 py-2"},[e("button",{onClick:s,type:"button",class:"modal__btn modal__btn-primary bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded focus:outline-none mr-2"}," 閉じる ")])])])],512),[[y,l.value]]),e("button",{onClick:s,type:"button",class:"bg-blue-500 hover:bg-blue-600 text-white font-semibold py-2 px-4 rounded focus:outline-none"},"ヘルプ")],64))}},E=e("h2",{class:"font-semibold text-3xl text-gray-800 leading-tight"},"ユーザー権限編集",-1),O={class:"absolute top-40 right-4 z-50"},D={class:"container mx-auto mt-16 max-w-screen-md"},F={class:"bg-white shadow-md rounded-lg overflow-hidden"},R={class:"w-full min-w-max border-collapse"},A=e("thead",null,[e("tr",null,[e("th",{class:"px-6 py-3 bg-gray-200 text-left text-xs font-semibold text-gray-600 border-b"}," NO "),e("th",{class:"px-6 py-3 bg-gray-200 text-left text-xs font-semibold text-gray-600 border-b"}," Name "),e("th",{class:"px-6 py-3 bg-gray-200 text-left text-xs font-semibold text-gray-600 border-b"}," Email "),e("th",{class:"px-12 py-3 bg-gray-200 text-left text-xs font-semibold text-gray-600 border-b"}," 権限 ")])],-1),T={class:"px-6 py-4 whitespace-no-wrap border-b"},W={class:"px-6 py-4 whitespace-no-wrap border-b"},Z={class:"px-6 py-4 whitespace-no-wrap border-b"},q={class:"px-6 py-4 whitespace-no-wrap text-right space-x-8 border-b"},G=["name","value","onUpdate:modelValue"],H={class:"ml-2 text-sm font-semibold text-gray-700"},I=["onClick"],Y={__name:"List",props:{users:Array},setup(c){const l=c,s=async t=>{try{window.confirm("本当に権限を変更しますか？")&&await j.post(`/api/user/${t.id}/save-role`,{role:t.role})}catch(a){console.error(a)}};return v(async()=>{await k(),l.users.forEach(t=>{t.roles.length>0?t.role=t.roles[0].name:t.role="user"})}),(t,a)=>(n(),r(d,null,[m(C(B),{title:"ユーザー権限編集"}),m(z,null,{header:_(()=>[E]),default:_(()=>[e("div",O,[m(U)]),e("div",D,[e("div",F,[e("table",R,[A,e("tbody",null,[(n(!0),r(d,null,u(c.users,(o,b)=>(n(),r("tr",{key:o.id,class:$({"border-t":b!==0})},[e("td",T,i(b+1),1),e("td",W,i(o.name),1),e("td",Z,i(o.email),1),e("td",q,[(n(),r(d,null,u(["admin","user"],(p,h)=>e("label",{key:h,class:"inline-flex items-center"},[x(e("input",{type:"radio",class:"form-radio text-indigo-600 border-2 border-indigo-600 focus:ring-0",name:"role_"+o.id,value:p,"onUpdate:modelValue":f=>o.role=f},null,8,G),[[L,o.role]]),e("span",H,i(p),1)])),64)),e("button",{onClick:p=>s(o),class:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700"}," 保存 ",8,I)])],2))),128))])])])])]),_:1})],64))}};export{Y as default};
